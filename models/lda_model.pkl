import pickle
import pandas as pd
from sklearn.feature_extraction.text import TfidfVectorizer
from sklearn.decomposition import LatentDirichletAllocation

# Example data (replace with your actual text data)
texts = [
    "I love sports, especially football.",
    "Politics is very important in today's world.",
    "The government needs to address health issues.",
    "Football matches are very exciting.",
    "Climate change is a global concern."
]

# Vectorize the text
vectorizer = TfidfVectorizer(stop_words='english')
X = vectorizer.fit_transform(texts)

# Fit the LDA model
lda = LatentDirichletAllocation(n_components=3, random_state=42)
lda.fit(X)

# Save the LDA model and vectorizer
with open('models/lda_model.pkl', 'wb') as f:
    pickle.dump(lda, f)

with open('models/vectorizer.pkl', 'wb') as f:
    pickle.dump(vectorizer, f)

print("LDA model and vectorizer saved.")
topics_keywords = {
    "Sports": ["football", "soccer", "basketball", "baseball", "tennis", "cricket", "athlete", "game", "match", "stadium"],
    "Politics": ["election", "government", "president", "congress", "senate", "politician", "vote", "party", "policy"],
    "Education": ["school", "university", "teacher", "student", "education", "learning", "exam", "classroom", "degree"],
    "Health": ["doctor", "hospital", "medicine", "healthcare", "disease", "health", "fitness", "wellness"],
    "Technology": ["AI", "artificial intelligence", "machine learning", "robot", "computer", "technology", "tech", "startup"]
}